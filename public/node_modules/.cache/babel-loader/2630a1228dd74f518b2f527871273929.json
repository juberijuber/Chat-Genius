{"ast":null,"code":"import _taggedTemplateLiteral from \"D:\\\\Projects\\\\chat-genius-React\\\\public\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/taggedTemplateLiteral\";\nimport _regeneratorRuntime from \"D:\\\\Projects\\\\chat-genius-React\\\\public\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";\nimport _asyncToGenerator from \"D:\\\\Projects\\\\chat-genius-React\\\\public\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";\nimport _defineProperty from \"D:\\\\Projects\\\\chat-genius-React\\\\public\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";\nimport _objectSpread from \"D:\\\\Projects\\\\chat-genius-React\\\\public\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread\";\nimport _slicedToArray from \"D:\\\\Projects\\\\chat-genius-React\\\\public\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\n\nvar _jsxFileName = \"D:\\\\Projects\\\\chat-genius-React\\\\public\\\\src\\\\pages\\\\Login.jsx\",\n    _templateObject;\n\nimport React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport styled from \"styled-components\";\nimport { useNavigate, Link } from \"react-router-dom\";\nimport Logo from \"../assets/logo.svg\";\nimport { ToastContainer, toast } from \"react-toastify\";\nimport \"react-toastify/dist/ReactToastify.css\";\nimport { loginRoute } from \"../utils/APIRoutes\";\nexport default function Login() {\n  var navigate = useNavigate();\n\n  var _useState = useState({\n    username: \"\",\n    password: \"\"\n  }),\n      _useState2 = _slicedToArray(_useState, 2),\n      values = _useState2[0],\n      setValues = _useState2[1];\n\n  var toastOptions = {\n    position: \"bottom-right\",\n    autoClose: 8000,\n    pauseOnHover: true,\n    draggable: true,\n    theme: \"dark\"\n  };\n  useEffect(function () {\n    if (localStorage.getItem(process.env.REACT_APP_LOCALHOST_KEY)) {\n      navigate(\"/\");\n    }\n  }, []);\n\n  var handleChange = function handleChange(event) {\n    setValues(_objectSpread({}, values, _defineProperty({}, event.target.name, event.target.value)));\n  };\n\n  var validateForm = function validateForm() {\n    var username = values.username,\n        password = values.password;\n\n    if (username === \"\") {\n      toast.error(\"Email and Password is required.\", toastOptions);\n      return false;\n    } else if (password === \"\") {\n      toast.error(\"Email and Password is required.\", toastOptions);\n      return false;\n    }\n\n    return true;\n  };\n\n  var handleSubmit = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(event) {\n      var username, password, _yield$axios$post, data;\n\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) switch (_context.prev = _context.next) {\n          case 0:\n            event.preventDefault();\n\n            if (!validateForm()) {\n              _context.next = 9;\n              break;\n            }\n\n            username = values.username, password = values.password;\n            _context.next = 5;\n            return axios.post(loginRoute, {\n              username: username,\n              password: password\n            });\n\n          case 5:\n            _yield$axios$post = _context.sent;\n            data = _yield$axios$post.data;\n\n            if (data.status === false) {\n              toast.error(data.msg, toastOptions);\n            }\n\n            if (data.status === true) {\n              localStorage.setItem(process.env.REACT_APP_LOCALHOST_KEY, JSON.stringify(data.user));\n              navigate(\"/\");\n            }\n\n          case 9:\n          case \"end\":\n            return _context.stop();\n        }\n      }, _callee);\n    }));\n\n    return function handleSubmit(_x) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(FormContainer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    action: \"\",\n    onSubmit: function onSubmit(event) {\n      return handleSubmit(event);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"brand\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: Logo,\n    alt: \"logo\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 13\n    }\n  }, \"CHAT GENIUS\")), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    placeholder: \"Username\",\n    name: \"username\",\n    onChange: function onChange(e) {\n      return handleChange(e);\n    },\n    min: \"3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"password\",\n    placeholder: \"Password\",\n    name: \"password\",\n    onChange: function onChange(e) {\n      return handleChange(e);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    type: \"submit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 11\n    }\n  }, \"Log In\"), /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 11\n    }\n  }, \"Don't have an account ? \", /*#__PURE__*/React.createElement(Link, {\n    to: \"/register\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 37\n    }\n  }, \"Create One.\")))), /*#__PURE__*/React.createElement(ToastContainer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 7\n    }\n  }));\n}\nvar FormContainer = styled.div(_templateObject || (_templateObject = _taggedTemplateLiteral([\"\\n  height: 100vh;\\n  width: 100vw;\\n  display: flex;\\n  flex-direction: column;\\n  justify-content: center;\\n  gap: 1rem;\\n  align-items: center;\\n  background-color: #131324;\\n  .brand {\\n    display: flex;\\n    align-items: center;\\n    gap: 1rem;\\n    justify-content: center;\\n    img {\\n      height: 5rem;\\n    }\\n    h1 {\\n      color: white;\\n      text-transform: uppercase;\\n    }\\n  }\\n\\n  form {\\n    display: flex;\\n    flex-direction: column;\\n    gap: 2rem;\\n    background-color: #00000076;\\n    border-radius: 2rem;\\n    padding: 5rem;\\n  }\\n  input {\\n    background-color: transparent;\\n    padding: 1rem;\\n    border: 0.1rem solid #4e0eff;\\n    border-radius: 0.4rem;\\n    color: white;\\n    width: 100%;\\n    font-size: 1rem;\\n    &:focus {\\n      border: 0.1rem solid #997af0;\\n      outline: none;\\n    }\\n  }\\n  button {\\n    background-color: #4e0eff;\\n    color: white;\\n    padding: 1rem 2rem;\\n    border: none;\\n    font-weight: bold;\\n    cursor: pointer;\\n    border-radius: 0.4rem;\\n    font-size: 1rem;\\n    text-transform: uppercase;\\n    &:hover {\\n      background-color: #4e0eff;\\n    }\\n  }\\n  span {\\n    color: white;\\n    text-transform: uppercase;\\n    a {\\n      color: #4e0eff;\\n      text-decoration: none;\\n      font-weight: bold;\\n    }\\n  }\\n\"])));","map":{"version":3,"sources":["D:/Projects/chat-genius-React/public/src/pages/Login.jsx"],"names":["React","useState","useEffect","axios","styled","useNavigate","Link","ToastContainer","toast","loginRoute","Login","navigate","username","password","values","setValues","toastOptions","position","autoClose","pauseOnHover","draggable","theme","localStorage","getItem","process","env","REACT_APP_LOCALHOST_KEY","handleChange","event","target","name","value","validateForm","error","handleSubmit","preventDefault","post","data","status","msg","setItem","JSON","stringify","user","Logo","e","FormContainer","div"],"mappings":"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","sourcesContent":[" import React, { useState, useEffect } from \"react\";\r\nimport axios from \"axios\";\r\nimport styled from \"styled-components\";\r\nimport { useNavigate, Link } from \"react-router-dom\";\r\nimport Logo from \"../assets/logo.svg\";\r\nimport { ToastContainer, toast } from \"react-toastify\";\r\nimport \"react-toastify/dist/ReactToastify.css\";\r\nimport { loginRoute } from \"../utils/APIRoutes\";\r\n\r\nexport default function Login() {\r\n  const navigate = useNavigate();\r\n  const [values, setValues] = useState({ username: \"\", password: \"\" });\r\n  const toastOptions = {\r\n    position: \"bottom-right\",\r\n    autoClose: 8000,\r\n    pauseOnHover: true,\r\n    draggable: true,\r\n    theme: \"dark\",\r\n  };\r\n  useEffect(() => {\r\n    if (localStorage.getItem(process.env.REACT_APP_LOCALHOST_KEY)) {\r\n      navigate(\"/\");\r\n    }\r\n  }, []);\r\n\r\n  const handleChange = (event) => {\r\n    setValues({ ...values, [event.target.name]: event.target.value });\r\n  };\r\n\r\n  const validateForm = () => {\r\n    const { username, password } = values;\r\n    if (username === \"\") {\r\n      toast.error(\"Email and Password is required.\", toastOptions);\r\n      return false;\r\n    } else if (password === \"\") {\r\n      toast.error(\"Email and Password is required.\", toastOptions);\r\n      return false;\r\n    }\r\n    return true;\r\n  };\r\n\r\n  const handleSubmit = async (event) => {\r\n    event.preventDefault();\r\n    if (validateForm()) {\r\n      const { username, password } = values;\r\n      const { data } = await axios.post(loginRoute, {\r\n        username,\r\n        password,\r\n      });\r\n      if (data.status === false) {\r\n        toast.error(data.msg, toastOptions);\r\n      }\r\n      if (data.status === true) {\r\n        localStorage.setItem(\r\n          process.env.REACT_APP_LOCALHOST_KEY,\r\n          JSON.stringify(data.user)\r\n        );\r\n\r\n        navigate(\"/\");\r\n      }\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <FormContainer>\r\n        <form action=\"\" onSubmit={(event) => handleSubmit(event)}>\r\n          <div className=\"brand\">\r\n            <img src={Logo} alt=\"logo\" />\r\n            <h1>CHAT GENIUS</h1>\r\n          </div>\r\n          <input\r\n            type=\"text\"\r\n            placeholder=\"Username\"\r\n            name=\"username\"\r\n            onChange={(e) => handleChange(e)}\r\n            min=\"3\"\r\n          />\r\n          <input\r\n            type=\"password\"\r\n            placeholder=\"Password\"\r\n            name=\"password\"\r\n            onChange={(e) => handleChange(e)}\r\n          />\r\n          <button type=\"submit\">Log In</button>\r\n          <span>\r\n            Don't have an account ? <Link to=\"/register\">Create One.</Link>\r\n          </span>\r\n        </form>\r\n      </FormContainer>\r\n      <ToastContainer />\r\n    </>\r\n  );\r\n}\r\n\r\nconst FormContainer = styled.div`\r\n  height: 100vh;\r\n  width: 100vw;\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  gap: 1rem;\r\n  align-items: center;\r\n  background-color: #131324;\r\n  .brand {\r\n    display: flex;\r\n    align-items: center;\r\n    gap: 1rem;\r\n    justify-content: center;\r\n    img {\r\n      height: 5rem;\r\n    }\r\n    h1 {\r\n      color: white;\r\n      text-transform: uppercase;\r\n    }\r\n  }\r\n\r\n  form {\r\n    display: flex;\r\n    flex-direction: column;\r\n    gap: 2rem;\r\n    background-color: #00000076;\r\n    border-radius: 2rem;\r\n    padding: 5rem;\r\n  }\r\n  input {\r\n    background-color: transparent;\r\n    padding: 1rem;\r\n    border: 0.1rem solid #4e0eff;\r\n    border-radius: 0.4rem;\r\n    color: white;\r\n    width: 100%;\r\n    font-size: 1rem;\r\n    &:focus {\r\n      border: 0.1rem solid #997af0;\r\n      outline: none;\r\n    }\r\n  }\r\n  button {\r\n    background-color: #4e0eff;\r\n    color: white;\r\n    padding: 1rem 2rem;\r\n    border: none;\r\n    font-weight: bold;\r\n    cursor: pointer;\r\n    border-radius: 0.4rem;\r\n    font-size: 1rem;\r\n    text-transform: uppercase;\r\n    &:hover {\r\n      background-color: #4e0eff;\r\n    }\r\n  }\r\n  span {\r\n    color: white;\r\n    text-transform: uppercase;\r\n    a {\r\n      color: #4e0eff;\r\n      text-decoration: none;\r\n      font-weight: bold;\r\n    }\r\n  }\r\n`;\r\n"]},"metadata":{},"sourceType":"module"}